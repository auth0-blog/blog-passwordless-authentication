<!DOCTYPE html>
<html>
	<head>
		<title>Password Free: Facebook Account Kit</title>
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		<link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.indigo-pink.min.css">
		<style>
			body {
				text-align: center;
				background: #EEE;
			}
			.mdl-button {
				width: 100%;
			}
		</style>
		<script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>
		
		<script src="https://cdn.auth0.com/js/auth0/9.0.0/auth0.min.js"></script>
	</head>
	<body>

		<div class="mdl-grid">
		  <div class="mdl-cell mdl-cell--4-col mdl-cell--4-offset">
		  	<div class="mdl-card mdl-shadow--2dp">
		  	<div class="mdl-card__supporting-text">
		  	<h1 class="mdl-typography--title">Passwordless Authentication</h1>
		  	<h2 class="mdl-typography--subhead">You're In!</h2>
		  	<p><strong>Details:</strong></p>
		  	<ul class="demo-list-icon mdl-list">
			  <li class="mdl-list__item">
			    <span class="mdl-list__item-primary-content">
			      <i class="material-icons mdl-list__item-icon">fingerprint</i>
    			  <span id="person"></span>
			    </span>
			  </li>
			  <li class="mdl-list__item">
			    <span class="mdl-list__item-primary-content">
			      <i class="material-icons mdl-list__item-icon">face</i>
    			  <span id="nickname"></span>
			    </span>
			  </li>
			  <li class="mdl-list__item">
			    <span class="mdl-list__item-primary-content">
			      <i class="material-icons mdl-list__item-icon">person</i>
    			  <span id="user_id"></span>
			    </span>
			  </li>
			  <li class="mdl-list__item">
			    <span class="mdl-list__item-primary-content">
			      <button onclick="goToLogin()" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored mdl-typography--text-center">Try Another</button>
			    </span>
			  </li>
			</ul>
		  	</div>
		  	</div>
		  </div>
		</div>

		<script>
		  var AUTH0_CLIENT_ID = 'AUTH0_CLIENT_ID';
		  var AUTH0_DOMAIN = 'AUTH0_DOMAIN';
		  var AUTH0_CALLBACKURL = 'AUTH0_CALLBACKURL';
			
			var auth0 = new window.auth0.WebAuth({
				domain: AUTH0_DOMAIN,
				clientID: AUTH0_CLIENT_ID,
				redirectUri: AUTH0_CALLBACKURL,
				responseType: 'token'
			});

			auth0.parseHash(function(err, result) {
				console.log(err);
				auth0.client.userInfo(result.accessToken, function(err2, user) {
					console.log(err2);
					console.log(user);
					document.getElementById("person").innerHTML = user.name;
		      document.getElementById("nickname").innerHTML = user.nickname;
		      document.getElementById("user_id").innerHTML = user.sub;
				})
			});

		  function goToLogin(){
		  	window.location.href = "/";
		  }
		</script>
	</body>
</html>
